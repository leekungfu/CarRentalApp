<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Car</title>
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/boostrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/assets/css/form-element.css"/>
    <link rel="stylesheet" href="/assets/css/font-awesome-pro.css"/>
    <link rel="stylesheet" href="/assets/css/form-element.css"/>
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap"
          rel="stylesheet">
    <link rel="stylesheet" href="/assets/boostrap/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="/assets/boostrap/css/animated.css">
    <link rel="stylesheet" href="/assets/boostrap/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/assets/boostrap/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="/assets/boostrap/css/magnific-popup.css">
    <link rel="stylesheet" href="/assets/boostrap/css/aos.css">
    <link rel="stylesheet" href="/assets/boostrap/css/ionicons.min.css">
    <link rel="stylesheet" href="/assets/boostrap/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="/assets/boostrap/css/jquery.timepicker.css">
    <link rel="stylesheet" href="/assets/boostrap/css/style.css">
    <link rel="stylesheet" href="/assets/css/car/car_item.css">
    <link rel="stylesheet" href="/assets/css/car/car_detail.css">
    <link rel="stylesheet" href="/assets/css/addCar.css">

    <!--    ICON-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
          integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <style>
        .container2-header {
            padding-top: 20px;
            margin-left: 30px;
            margin-bottom: 20px;
            font-weight: 600
        }
    </style>
</head>
<body>
<!-- BEGIN HEADER-->
<div th:insert="~{/fragment/header::menu(${fullName})}">
</div>
<!-- END HEADER-->

<div style="margin:32px">
    <a th:href="@{/home}">Home</a>
    <span> > </span>
    <a th:href="@{/listCar}">My Cars</a>
    <span> > </span>
    <span>Add a car</span>
</div>

<div class="">
    <h4 class="container2-header">Add a car</h4>
</div>

<div class="container">
    <form action="/Add-Car" method="post" class="add-car-form-1 bg-light" id="regForm" enctype="multipart/form-data">
        <!-- Circles which indicates the steps of the form: -->
        <div class="progressbar bg-light d-flex justify-content-center">
            <span class="step">Basic</span>
            <span class="step">Details</span>
            <span class="step">Pricing</span>
            <span class="step">Finish</span>
        </div>
        <div class="tab">
            <div class="text-danger" th:utext="${msg}"></div>
            <p class="tabinput form-group">
                <input placeholder="License plate" class="inputplate input-group mb-3 form-control"
                       oninput="this.className = ''"
                       name="licensePlate"/>
            </p>
            <div class="groupbetween">
                <div class="selectgroup">
                    <div>
                        <select oninput="this.className = ''" name="color" class="selectchoice">
                            <option selected value="">Color</option>
                            <option value="Black">Black</option>
                            <option value="Blue">Blue</option>
                            <option value="Green">Green</option>
                            <option value="Gray">Gray</option>
                            <option value="Red">Red</option>
                            <option value="White">White</option>
                            <option value="Gold">Gold</option>
                            <option value="Orange">Orange</option>
                            <option value="Brown">Brown</option>
                            <option value="Silver">Silver</option>
                            <option value="Yellow">Yellow</option>
                        </select>
                    </div>
                    <div>
                        <select oninput="showCarName()" name="brand" id="brand" class="selectchoice">
                            <option selected value="">Brand name</option>
                            <option value="Tesla">Tesla</option>
                            <option value="BMW">BMW</option>
                            <option value="Ferrari">Ferrari</option>
                            <option value="Ford">Ford</option>
                            <option value="Porsche">Porsche</option>
                            <option value="Honda">Honda</option>
                            <option value="Lamborghini">Lamborghini</option>
                            <option value="Toyota">Toyota</option>
                            <option value="Bentley">Bentley</option>
                            <option value="Maserati">Maserati</option>
                            <option value="Audi">Audi</option>
                            <option value="Subaru">Subaru</option>
                            <option value="Hyundai">Hyundai</option>
                            <option value="Mazda">Mazda</option>
                            <option value="Nissan">Nissan</option>
                            <option value="Chevrolet">Chevrolet</option>
                            <option value="Kia">Kia</option>
                            <option value="Mercedes-Benz">Mercedes-Benz</option>
                            <option value="Volkswagen">Volkswagen</option>
                            <option value="Volvo">Volvo</option>
                            <option value="Mitsubishi">Mitsubishi</option>
                            <option value="Peugeot">Peugeot</option>
                            <option value="Mini">Mini</option>
                            <option value="Land Rover">Land Rover</option>
                            <option value="Renault">Renault</option>
                            <option value="Daewoo">Daewoo</option>
                            <option value="MG">MG</option>
                            <option value="VinFast">VinFast</option>
                        </select>
                    </div>
                    <div>
                        <select oninput="showCarName()" name="model" id="model" class="selectchoice">
                            <option selected value="">Model</option>
                            <option value="Hatchback">Hatchback</option>
                            <option value="Sedan">Sedan</option>
                            <option value="MUV">MUV</option>
                            <option value="SUV">SUV</option>
                            <option value="Off-road">Off-road</option>
                            <option value="Coupe">Coupe</option>
                            <option value="Convertible">Convertible</option>
                            <option value="Pickup Truck">Pickup Truck</option>
                            <option value="Sport">Sport</option>
                            <option value="Station Wagon">Station Wagon</option>
                            <option value="Minivan">Minivan</option>
                        </select>
                    </div>
                    <div>
                        <select oninput="showCarName()" name="year" id="year" class="selectchoice">
                            <option selected value="">Production year</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                            <option value="2019">2019</option>
                            <option value="2018">2018</option>
                            <option value="2017">2017</option>
                            <option value="2016">2016</option>
                            <option value="2015">2015</option>
                            <option value="2014">2014</option>
                            <option value="2013">2013</option>
                            <option value="2012">2012</option>
                            <option value="2011">2011</option>
                            <option value="2010">2010</option>
                            <option value="2009">2009</option>
                            <option value="2008">2008</option>
                            <option value="2007">2007</option>
                            <option value="2006">2006</option>
                            <option value="2005">2005</option>
                            <option value="2004">2004</option>
                            <option value="2003">2003</option>
                            <option value="2002">2002</option>
                            <option value="2001">2001</option>
                            <option value="2000">2000</option>
                            <option value="1999">1999</option>
                            <option value="1998">1998</option>
                        </select>
                    </div>
                    <div>
                        <select oninput="this.className = ''" name="seat" class="selectchoice">
                            <option selected value="">No. of seats</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="7">7</option>
                            <option value="16">16</option>
                            <option value="30">30</option>
                            <option value="35">35</option>
                            <option value="45">45</option>
                            <option value="47">47</option>
                        </select>
                    </div>
                </div>
                <div class="radiochoice col-md-6 d-flex justify-content-evenly">
                    <div class="form-group">
                        <div class="checkbox-input form-check-inline">
                            <input type="radio" oninput="this.className = ''" class=" btn-check"
                                   name="transmission" id="option1"
                                   autocomplete="off" value="Automatic" checked>
                            <label class="btn btn-radio" for="option1">Automatic</label>
                        </div>
                        <div class="checkbox-input form-check-inline">
                            <input type="radio" oninput="this.className = ''" class="btn-check "
                                   name="transmission" id="option2"
                                   autocomplete="off" value="Manual">
                            <label class="btn btn-radio" for="option2">Manual</label>
                        </div>
                    </div>

                    <div class="form-group ">
                        <div class="checkbox-input form-check-inline">
                            <input type="radio" oninput="this.className = ''" class="btn-check" name="fuel"
                                   id="option3"
                                   autocomplete="off" value="Gasoline" checked>
                            <label class="btn btn-radio " for="option3">Gasoline</label>
                        </div>
                        <div class="checkbox-input form-check-inline">
                            <input type="radio" oninput="this.className = ''" class="btn-check" name="fuel"
                                   id="option4"
                                   autocomplete="off" value="Diesel">
                            <label class="btn btn-radio" for="option4">Diesel</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group forminputimage d-flex justify-content-evenly">
                <div class="drop-zone">
                    <label>Registration paper:</label>
                    <input type="file" name="pregistration" accept="image/jpeg, image/png" id="target1">
                    <img class="img-size" alt="Image show" id="thumbnail1">
                </div>
                <div class="drop-zone">
                    <label>Certificate of inspection</label>
                    <input type="file" name="pinspection" accept="image/jpeg, image/png" id="target2">
                    <img class="img-size" alt="Image show" id="thumbnail2">
                </div>
                <div class="drop-zone">
                    <label>Insurance</label>
                    <input type="file" name="pinsuranceUrl" accept="image/jpeg, image/png" id="target3">
                    <img class="img-size" alt="Image show" id="thumbnail3">
                </div>
            </div>
        </div>
        <div class="tab">
            <div class="numberinput">
                <div class="form-group">
                    <input class="form-control" placeholder="Mileage" type="number" oninput="this.className = ''"
                           name="mileage">
                </div>
                <div class="form-group">
                    <input class="form-control" placeholder="Fuel consumption (liter/100km)" type="number"
                           name="fuelConsumption"
                           oninput="this.className = ''"/>
                </div>
            </div>
            <p>Address</p>
            <br>
            <div class="form-group mainlocationinput">
                <select class="locationinput" oninput="showCarLocation()" name="city" id="cityID">
                    <option value="" selected="">Select Country</option>
                </select>
            </div>
            <div class="form-group">
                <select class="locationinput" name="district" id="districtID" oninput="showCarLocation()">
                    <option value="" selected="">Select District</option>
                </select>
            </div>
            <div class="form-group">
                <select class="locationinput" name="ward" id="wardID" oninput="showCarLocation()">
                    <option value="" selected="">Select Ward</option>
                </select>
            </div>
            <div class="form-group addressinput">
                <input type="text" name="street" oninput="this.className = ''"
                       placeholder="House number, Street"/>
            </div>
            <div class="form-group areadescription">
                Description
                <textarea name="description" oninput="this.className = ''"
                          id="exampleFormControlTextarea1" rows="10"
                          placeholder="Description of your vehicle"></textarea>
            </div>
            <div class="d-flex justify-content-around formaddfuntion">
                <div class="checkboxgroup1">
                    <div>
                        <input value="BLUETOOTH" class="fntchk" type="checkbox">
                        <label>Bluetooth</label>
                    </div>
                    <div>
                        <input value="GPS" class="fntchk" type="checkbox">
                        <label>GPS</label>
                    </div>
                    <div>
                        <input value="CAMERA" class="fntchk" type="checkbox">
                        <label>Camera</label>
                    </div>
                </div>
                <div class="checkboxgroup2">
                    <div>
                        <input value="SUNROOF" class="fntchk" type="checkbox">
                        <label>Sun roof</label>
                    </div>
                    <div>
                        <input value="CHILDLOCK" class="fntchk" type="checkbox">
                        <label>Child lock</label>
                    </div>
                    <div>
                        <input value="CHILDSEAT" class="fntchk" type="checkbox">
                        <label>Child seat</label>
                    </div>
                </div>
                <div class="checkboxgroup3">
                    <div>
                        <input value="DVD" class="fntchk" type="checkbox">
                        <label>DVD</label>
                    </div>
                    <div>
                        <input value="USB" class="fntchk" type="checkbox">
                        <label>USB</label>
                    </div>
                </div>
                <input name="addFunction" id="finalvalue" hidden>
            </div>
            <div class="form-group">
                <div class="d-flex justify-content-between">
                    <div>
                        <label>Front</label>
                        <br>
                        <input type="file" name="pimages" accept="image/jpeg, image/png" id="target4">
                        <br>
                        <img class="img-size" alt="Image show" id="thumbnail4">
                    </div>
                    <div>
                        <label>Left</label>
                        <br>
                        <input type="file" name="pimages" accept="image/jpeg, image/png" id="target5">
                        <br>
                        <img class="img-size" alt="Image show" id="thumbnail5">
                    </div>
                </div>
                <div class="d-flex justify-content-between">
                    <div>
                        <label>Right</label>
                        <br>
                        <input type="file" name="pimages" accept="image/jpeg, image/png" id="target6">
                        <br>
                        <img class="img-size" alt="Image show" id="thumbnail6">
                    </div>
                    <div>
                        <label>Back</label>
                        <br>
                        <input type="file" name="pimages" accept="image/jpeg, image/png" id="target7">
                        <br>
                        <img class="img-size" alt="Image show" id="thumbnail7">
                    </div>
                </div>
            </div>
        </div>
        <div class="tab">
            <div class="form-group d-flex justify-content-start">
                <div>
                    <div>Set base price for your car:</div>
                    <br>
                    <div>Required deposit:</div>
                </div>
                <div class="priceinput">
                    <input type="number" id="price" name="price" oninput="showCarPrice()"/>
                    <br>
                    <input type="number" name="deposit"/>
                </div>
                <div class="priceshow">
                    VND/Day
                </div>
            </div>
            <div class="form-group">
                Terms of use:
                <input type="checkbox" class="fntchk2" oninput="this.className = ''" value="NOSMOKING">No smoking
                <input type="checkbox" class="fntchk2" oninput="this.className = ''" value="NOFOODINCAR">No food in car
                <input type="checkbox" class="fntchk2" oninput="this.className = ''" value="NOPET">No Pet
                <input name="term" id="finalvalue2" hidden>
                <input type="checkbox" name="" oninput="this.className = ''" value="Other" id="toggle"
                       onclick="opennewtab()">Other
                <div id="content" class="is-hidden areadescription">
                    <label>Please specify:</label>
                    <textarea name="termExtra" cols="30" rows="10"
                              oninput="this.className = ''"></textarea>
                </div>
            </div>
        </div>
        <div class="tab">
            <h5>Preview</h5>
            <br>
            <div class=" d-flex justify-content-around">
                <div>
                    <div class="carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                        </ol>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img class="d-block w-100" alt="First slide" id="thumbnail44">
                            </div>
                            <div class="carousel-item">
                                <img class="d-block w-100" alt="Second slide" id="thumbnail55">
                            </div>
                            <div class="carousel-item">
                                <img class="d-block w-100" alt="Third slide" id="thumbnail66">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pl-2">
                    <h4 id="showCarName" class="p-1">Car Name</h4>
                    <div class="p-2">Rating: (Not rating yet)</div>
                    <div class="p-2">No of rides: 0</div>
                    <div>
                        <div class="d-inline p-2">Price:</div>
                        <div class="d-inline p-2" id="showCarPrice"></div>
                    </div>
                    <div>
                        <div class="d-inline p-2">Location:</div>
                        <div class="d-inline p-2" id="showCarLocation"></div>
                    </div>
                    <div>
                        <div class="d-inline p-2">Status:</div>
                        <div class="available d-inline p-2">Available</div>
                    </div>

                </div>
            </div>
        </div>
        <div style="overflow:auto;">
            <div style="float:right;">
                <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
            </div>
        </div>
    </form>
</div>

<script src="/assets/js/addCar.js"></script>
<script src="/assets/js/login.js"></script>
<script src="/assets/js/signup.js"></script>
<script src="/assets/boostrap/js/jquery.min.js"></script>
<script src="/assets/boostrap/js/jquery-migrate-3.0.1.min.js"></script>
<script src="/assets/boostrap/js/popper.min.js"></script>
<script src="/assets/boostrap/js/bootstrap.min.js"></script>
<script src="/assets/boostrap/js/jquery.easing.1.3.js"></script>
<script src="/assets/boostrap/js/jquery.waypoints.min.js"></script>
<script src="/assets/boostrap/js/jquery.stellar.min.js"></script>
<script src="/assets/boostrap/js/owl.carousel.min.js"></script>
<script src="/assets/boostrap/js/jquery.magnific-popup.min.js"></script>
<script src="/assets/boostrap/js/aos.js"></script>
<script src="/assets/boostrap/js/jquery.animateNumber.min.js"></script>
<script src="/assets/boostrap/js/bootstrap-datepicker.js"></script>
<script src="/assets/boostrap/js/jquery.timepicker.min.js"></script>
<script src="/assets/boostrap/js/scrollax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"
        integrity="sha512-rstIgDs0xPgmG6RX1Aba4KV5cWJbAMcvRCVmglpam9SoHZiUCyQVDdH2LPlxoHtrv17XWblE/V/PP+Tr04hbtA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>

<!--JS-->
<script src="/assets/js/search_car.js"></script>
<script type="text/javascript">
    //show image input
    $(document).ready(function () {
        $('#target1').change(function () {
            showImageThumbnail1(this);
        });
        $('#target2').change(function () {
            showImageThumbnail2(this);
        });
        $('#target3').change(function () {
            showImageThumbnail3(this);
        });
        $('#target4').change(function () {
            showImageThumbnail4(this);
        });
        $('#target5').change(function () {
            showImageThumbnail5(this);
        });
        $('#target6').change(function () {
            showImageThumbnail6(this);
        });
        $('#target7').change(function () {
            showImageThumbnail7(this);
        });
    });

    function showImageThumbnail1(fileInput) {
        file = fileInput.files[0];
        reader = new FileReader();
        reader.onload = function (e) {
            $('#thumbnail1').attr('src', e.target.result).show();
        };
        reader.readAsDataURL(file);
    }

    function showImageThumbnail2(fileInput) {
        file = fileInput.files[0];
        reader = new FileReader();
        reader.onload = function (e) {
            $('#thumbnail2').attr('src', e.target.result).show();
        };
        reader.readAsDataURL(file);
    }

    function showImageThumbnail3(fileInput) {
        file = fileInput.files[0];
        reader = new FileReader();
        reader.onload = function (e) {
            $('#thumbnail3').attr('src', e.target.result).show();
        };
        reader.readAsDataURL(file);
    }

    function showImageThumbnail4(fileInput) {
        file = fileInput.files[0];
        reader = new FileReader();
        reader.onload = function (e) {
            $('#thumbnail4').attr('src', e.target.result).show();
            $('#thumbnail44').attr('src', e.target.result).show();

        };
        reader.readAsDataURL(file);
    }

    function showImageThumbnail5(fileInput) {
        file = fileInput.files[0];
        reader = new FileReader();
        reader.onload = function (e) {
            $('#thumbnail5').attr('src', e.target.result).show();
            $('#thumbnail55').attr('src', e.target.result).show();

        };
        reader.readAsDataURL(file);
    }

    function showImageThumbnail6(fileInput) {
        file = fileInput.files[0];
        reader = new FileReader();
        reader.onload = function (e) {
            $('#thumbnail6').attr('src', e.target.result).show();
            $('#thumbnail66').attr('src', e.target.result).show();

        };
        reader.readAsDataURL(file);
    }

    function showImageThumbnail7(fileInput) {
        file = fileInput.files[0];
        reader = new FileReader();
        reader.onload = function (e) {
            $('#thumbnail7').attr('src', e.target.result).show();
        };
        reader.readAsDataURL(file);
    }
    //json input location
    const cities = document.getElementById("cityID");
    const districts = document.getElementById("districtID");
    const wards = document.getElementById("wardID");
    const Parameter = {
        url: "https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json",
        method: "GET",
        responseType: "application/json",
    };
    const promise = axios(Parameter);
    promise.then(function (result) {
        renderCity(result.data);
    });

    function renderCity(data) {
        for (const x of data) {
            cities.options[cities.options.length] = new Option(x.Name, x.Name);
        }
        cities.onchange = function () {
            districts.length = 1;
            wards.length = 1;
            if (this.value !== "") {
                const result = data.filter(n => n.Name === this.value);
                for (const k of result[0].Districts) {
                    districts.options[districts.options.length] = new Option(k.Name, k.Name);
                }
            }
        };
        districts.onchange = function () {
            wards.length = 1;
            const dataCity = data.filter((n) => n.Name === cities.value);
            if (this.value !== "") {
                const dataWards = dataCity[0].Districts.filter(n => n.Name === this.value)[0].Wards;
                for (const w of dataWards) {
                    wards.options[wards.options.length] = new Option(w.Name, w.Name);
                }
            }
        };
    }

    //save value checkbox
    $(document).ready(function () {
        $('.fntchk').click(function () {
            var selected = $('.fntchk:checked').map(function () {
                return $(this).attr('value');
            }).get().join(',');
            $('#finalvalue').val(selected);
        });
    });
    $(document).ready(function () {
        $('.fntchk2').click(function () {
            var selected = $('.fntchk2:checked').map(function () {
                return $(this).attr('value');
            }).get().join(',');
            $('#finalvalue2').val(selected);
        });
    });

    //open checkbox other
    function opennewtab() {
        var selectedCheckbox = document.getElementById("toggle");
        var showBox = document.getElementById("content");
        if (selectedCheckbox.checked === true) {
            showBox.style.display = "block";
        } else {
            showBox.style.display = "none";
        }
    }
</script>

<!-- Modal begin-->
<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Notification</h5>
            </div>
            <div class="modal-body">
                Are you sure you want to log out?
            </div>
            <div class="modal-footer">
                <a class="btn btn-secondary" data-dismiss="modal" role="button">Cancel</a>
                <a class="btn btn-primary" th:href="@{/logout}" role="button">OK</a>
            </div>
        </div>
    </div>
</div>
<!--Modal end-->

</body>
</html>